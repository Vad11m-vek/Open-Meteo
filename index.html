<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UAV Forecast</title>
    
    <!-- External Libraries -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="Styles.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="location-display" id="locationBtn">
            <span style="font-size: 1.5rem;">üìç</span>
            <div>
                <div id="locationText" style="font-weight: 700;">–ö–∏—ó–≤, –£–∫—Ä–∞—ó–Ω–∞</div>
                <div id="coordText" style="font-size: 0.8rem; opacity: 0.8;">50.45¬∞N, 30.52¬∞E</div>
            </div>
        </div>
        <div class="header-actions">
            <button class="header-btn" id="refreshBtn" title="–û–Ω–æ–≤–∏—Ç–∏ –¥–∞–Ω—ñ">üîÑ</button>
            <button class="header-btn" id="settingsBtn" title="–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è">‚öôÔ∏è</button>
        </div>
    </div>

    <!-- Tabs Navigation -->
    <div class="tabs-nav">
        <button class="tab-btn active" data-tab="map">üó∫Ô∏è –ú–∞–ø–∞</button>
        <button class="tab-btn" data-tab="forecast">üìä –ü—Ä–æ–≥–Ω–æ–∑</button>
        <button class="tab-btn" data-tab="profile">üìà –ü—Ä–æ—Ñ—ñ–ª—å –≤—ñ—Ç—Ä—É</button>
        <button class="tab-btn" data-tab="compare">üî¨ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è</button>
        <button class="tab-btn" data-tab="charts">üìâ –ì—Ä–∞—Ñ—ñ–∫–∏</button>
    </div>

    <!-- Container -->
    <div class="container">
        <!-- Loading -->
        <div id="loadingDiv" class="loading">
            <div class="spinner"></div>
            <p style="font-size: 1.1rem; margin-top: 10px;">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö...</p>
        </div>

        <!-- Tab 1: MAP -->
        <div id="mapTab" class="tab-content active">
            <div class="map-controls">
                <div class="coord-display">
                    üìç <span id="mapCoords">50.45¬∞N, 30.52¬∞E</span>
                </div>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <button class="btn-primary" id="myLocationBtn">üìç –ú–æ—è –ª–æ–∫–∞—Ü—ñ—è</button>
                    <button class="btn-primary" id="getDataBtn">–û—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ</button>
                </div>
            </div>
            <div id="map"></div>
        </div>

        <!-- Tab 2: FORECAST -->
        <div id="forecastTab" class="tab-content">
            <!-- Model Selector -->
            <div class="model-selector">
                <div class="section-title">üéØ –ú–æ–¥–µ–ª—å –ø—Ä–æ–≥–Ω–æ–∑—É</div>
                <div class="model-buttons" id="modelButtons">
                    <button class="model-btn active" data-model="gfs">
                        GFS<br><small>NOAA Global ‚Ä¢ 0.25¬∞</small>
                    </button>
                    <button class="model-btn" data-model="icon">
                        ICON<br><small>DWD Germany ‚Ä¢ 0.1¬∞</small>
                    </button>
                    <button class="model-btn" data-model="ecmwf">
                        ECMWF<br><small>–ù–∞–π—Ç–æ—á–Ω—ñ—à–∏–π ‚Ä¢ 0.4¬∞</small>
                    </button>
                    <button class="model-btn" data-model="windy">
                        Windy<br><small>8 –≤–∏—Å–æ—Ç –¥–æ 5500–º</small>
                    </button>
                </div>
            </div>

            <!-- Tiles -->
            <div class="tiles-grid" id="tilesGrid"></div>

            <!-- Timeline -->
            <div class="section">
                <div class="section-title">‚è±Ô∏è –ü—Ä–æ–≥–Ω–æ–∑ –ø–æ –≥–æ–¥–∏–Ω–∞—Ö</div>
                <div class="timeline-controls">
                    <button class="timeline-btn" id="prevHourBtn">‚óÄÔ∏è –ù–∞–∑–∞–¥</button>
                    <button class="timeline-btn" id="nextHourBtn">–í–ø–µ—Ä–µ–¥ ‚ñ∂Ô∏è</button>
                    <button class="timeline-btn" id="autoPlayBtn">‚ñ∂Ô∏è Auto Play</button>
                </div>
                <div class="timeline-scroll" id="timelineScroll"></div>
            </div>

            <!-- Detailed Table -->
            <div class="section">
                <div class="section-title">üìã –î–µ—Ç–∞–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è</div>
                <div class="table-container">
                    <table id="detailedTable">
                        <thead>
                            <tr>
                                <th>–ß–∞—Å</th>
                                <th>–í—ñ—Ç–µ—Ä</th>
                                <th>–ü–æ—Ä–∏–≤–∏</th>
                                <th>–ú–∞–∫—Å. –≤–∏—Å–æ—Ç–∞</th>
                                <th>–¢–µ–º–ø.</th>
                                <th>–¢–æ—á–∫–∞ —Ä–æ—Å–∏</th>
                                <th>–í–æ–ª–æ–≥—ñ—Å—Ç—å</th>
                                <th>–•–º–∞—Ä–Ω—ñ—Å—Ç—å</th>
                                <th>–ë–∞–∑–∞ —Ö–º–∞—Ä</th>
                                <th>–í–∏–¥–∏–º—ñ—Å—Ç—å</th>
                                <th>–û–ø–∞–¥–∏</th>
                            </tr>
                        </thead>
                        <tbody id="detailedTableBody"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Tab 3: WIND PROFILE -->
        <div id="profileTab" class="tab-content">
            <div class="model-selector">
                <div class="section-title">üéØ –ú–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–æ—Ñ—ñ–ª—é</div>
                <div class="model-buttons" id="profileModelButtons">
                    <button class="model-btn active" data-model="gfs">GFS</button>
                    <button class="model-btn" data-model="icon">ICON</button>
                    <button class="model-btn" data-model="ecmwf">ECMWF</button>
                    <button class="model-btn" data-model="windy">Windy</button>
                </div>
            </div>

            <div class="section">
                <div class="section-title">üìà –ü—Ä–æ—Ñ—ñ–ª—å –≤—ñ—Ç—Ä—É</div>
                <div class="table-container">
                    <table id="profileTable">
                        <thead>
                            <tr>
                                <th>–í–∏—Å–æ—Ç–∞</th>
                                <th>–®–≤–∏–¥–∫. –≤—ñ—Ç—Ä—É</th>
                                <th>–®–≤–∏–¥–∫. –ø–æ—Ä–∏–≤—ñ–≤</th>
                                <th>–ù–∞–ø—Ä—è–º–æ–∫</th>
                                <th>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</th>
                            </tr>
                        </thead>
                        <tbody id="profileTableBody"></tbody>
                    </table>
                </div>
            </div>

            <div class="chart-container">
                <div class="section-title">üìä –ì—Ä–∞—Ñ—ñ–∫ –ø—Ä–æ—Ñ—ñ–ª—é</div>
                <div class="chart-wrapper">
                    <canvas id="profileChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Tab 4: COMPARE -->
        <div id="compareTab" class="tab-content">
            <div class="section">
                <div class="section-title">üî¨ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –º–æ–¥–µ–ª–µ–π</div>
                <div class="table-container">
                    <table id="compareTable">
                        <thead>
                            <tr>
                                <th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                                <th>GFS</th>
                                <th>ICON</th>
                                <th>ECMWF</th>
                                <th>Windy</th>
                            </tr>
                        </thead>
                        <tbody id="compareTableBody"></tbody>
                    </table>
                </div>
            </div>

            <div class="chart-container">
                <div class="section-title">üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤—ñ—Ç—Ä—É</div>
                <div class="chart-wrapper">
                    <canvas id="compareWindChart"></canvas>
                </div>
            </div>

            <div class="chart-container">
                <div class="section-title">üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏</div>
                <div class="chart-wrapper">
                    <canvas id="compareTempChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Tab 5: CHARTS -->
        <div id="chartsTab" class="tab-content">
            <div class="chart-container">
                <div class="section-title">‚úÖ –ú–æ–∂–Ω–∞ –ª—ñ—Ç–∞—Ç–∏?</div>
                <div class="chart-wrapper">
                    <canvas id="flyabilityChart"></canvas>
                </div>
            </div>

            <div class="chart-container">
                <div class="section-title">üí® –í—ñ—Ç–µ—Ä & –ü–æ—Ä–∏–≤–∏</div>
                <div class="chart-wrapper">
                    <canvas id="windChart"></canvas>
                </div>
            </div>

            <div class="chart-container">
                <div class="section-title">üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ & –¢–æ—á–∫–∞ —Ä–æ—Å–∏</div>
                <div class="chart-wrapper">
                    <canvas id="tempChart"></canvas>
                </div>
            </div>

            <div class="chart-container">
                <div class="section-title">üíß –í–æ–ª–æ–≥—ñ—Å—Ç—å</div>
                <div class="chart-wrapper">
                    <canvas id="humidityChart"></canvas>
                </div>
            </div>

            <div class="chart-container">
                <div class="section-title">‚òÅÔ∏è –•–º–∞—Ä–Ω—ñ—Å—Ç—å</div>
                <div class="chart-wrapper">
                    <canvas id="cloudChart"></canvas>
                </div>
            </div>

            <div class="chart-container">
                <div class="section-title">üåßÔ∏è –û–ø–∞–¥–∏</div>
                <div class="chart-wrapper">
                    <canvas id="precipChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Tooltip -->
    <div id="tooltip" class="tooltip"></div>

    <!-- Location Modal -->
    <div class="modal" id="locationModal">
        <div class="modal-content">
            <div class="modal-title">üìç –í–∏–±—ñ—Ä –ª–æ–∫–∞—Ü—ñ—ó</div>
            <div class="input-group">
                <label>–®–∏—Ä–æ—Ç–∞:</label>
                <input type="number" id="latInput" step="0.01" value="50.45">
            </div>
            <div class="input-group">
                <label>–î–æ–≤–≥–æ—Ç–∞:</label>
                <input type="number" id="lonInput" step="0.01" value="30.52">
            </div>
            <div class="input-group">
                <label>–ù–∞–∑–≤–∞:</label>
                <input type="text" id="nameInput" value="–ö–∏—ó–≤, –£–∫—Ä–∞—ó–Ω–∞">
            </div>
            <div class="preset-grid">
                <button class="preset-btn" data-lat="50.45" data-lon="30.52" data-name="–ö–∏—ó–≤">üá∫üá¶ –ö–∏—ó–≤</button>
                <button class="preset-btn" data-lat="46.48" data-lon="30.73" data-name="–û–¥–µ—Å–∞">üá∫üá¶ –û–¥–µ—Å–∞</button>
                <button class="preset-btn" data-lat="49.99" data-lon="36.23" data-name="–•–∞—Ä–∫—ñ–≤">üá∫üá¶ –•–∞—Ä–∫—ñ–≤</button>
                <button class="preset-btn" data-lat="48.46" data-lon="35.05" data-name="–î–Ω—ñ–ø—Ä–æ">üá∫üá¶ –î–Ω—ñ–ø—Ä–æ</button>
            </div>
            <div class="modal-actions">
                <button class="btn-cancel" id="cancelLocationBtn">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button class="btn-apply" id="applyLocationBtn">–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-title">‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</div>
            
            <div class="settings-section">
                <h3>üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è</h3>
                <label class="checkbox-item">
                    <input type="checkbox" id="autoRefresh" checked>
                    <span>–ê–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è (15 —Ö–≤)</span>
                </label>
            </div>

            <div class="settings-section">
                <h3>üí® –®–≤–∏–¥–∫—ñ—Å—Ç—å –≤—ñ—Ç—Ä—É:</h3>
                <div class="radio-group">
                    <label class="radio-item">
                        <input type="radio" name="windSpeed" value="kmh" checked>
                        <span>–∫–º/–≥–æ–¥</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="windSpeed" value="ms">
                        <span>–º/—Å</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="windSpeed" value="mph">
                        <span>mph</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="windSpeed" value="kt">
                        <span>kt (Knots)</span>
                    </label>
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn-cancel" id="cancelSettingsBtn">–ó–∞–∫—Ä–∏—Ç–∏</button>
                <button class="btn-apply" id="saveSettingsBtn">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- Custom JavaScript -->
    <script src="App.js"></script>
</body>
</html>
